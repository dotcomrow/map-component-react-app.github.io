"use strict";(self.webpackChunkmap_component_react_app=self.webpackChunkmap_component_react_app||[]).push([[18],{2018:(e,t,n)=>{n.r(t);var o=n(2491),a=n.n(o),r=n(7673),s=n.n(r),c=n(3379),i=n.n(c),l=n(7795),u=n.n(l),m=n(569),d=n.n(m),p=n(3565),f=n.n(p),w=n(9216),g=n.n(w),h=n(4589),_=n.n(h),v=n(8285),b={};b.styleTagTransform=_(),b.setAttributes=f(),b.insert=d().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=g(),i()(v.Z,b),v.Z&&v.Z.locals&&v.Z.locals;var E=n(8280),y=n(649),L=n(2914),Z=n(3876),R=n(668),k=n(7354),I=n(3218),O=n(161),A=n(767),S=n(1219),C=n(8185),T=n(6898),G=(n(6626),window&&window.__env),x={TEST:G.TEST,OL_LAYER_URL:G.OL_LAYER_URL,GOOGLE_CLIENT_ID:G.GOOGLE_CLIENT_ID};Object.freeze(x);var N=void 0,q=JSON.parse(localStorage.getItem("oauth2-test-params")),z=new T.Z({strokeStyle:new A.Z({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),showLabels:!0,wrapX:!0}),U=new k.Z({format:new I.Z,loader:function(e,t,n,o,a){U.removeLoadedExtent(e);var r=x.OL_LAYER_URL,s=new XMLHttpRequest;s.open("GET",r),s.setRequestHeader("Authorization","Bearer "+q.access_token);var c=function(){U.removeLoadedExtent(e),a()};s.onerror=c,s.onload=function(){200===s.status||c()},s.send()},strategy:O.VW,overlaps:!1}),D=new Z.Z({source:U,style:new S.ZP({fill:new C.Z({color:"rgba(255,255,255,0.2)"}),stroke:new A.Z({color:"rgba(0,0,255,0.3)"})}),maxZoom:14,minZoom:8});const H=function(e){var t=e.mapIsReadyCallback,n=(0,o.useRef)(null),r=function(e){new y.Z({target:document.querySelectorAll([".map-container"])[0],eventListeners:{moveend:function(e){N.$emit("moveend",e)},click:function(e){N.$emit("click",e)},pointermove:function(e){N.$emit("pointermove",e)}},layers:[new L.Z({source:new R.Z}),z,D],view:new E.ZP({zoom:10,maxZoom:14,minZoom:8,center:[e.coords.longitude,e.coords.latitude],constrainResolution:!0})})};return(0,o.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){r(e)}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message)),r({coords:{latitude:51.505,longitude:-.09}})}),{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),t("my map")}),[t]),a().createElement("div",{className:"map-container",ref:n})};(0,n(2300).eL)();for(var P,j=window.location.hash.substring(1),J={},X=/([^&=]+)=([^&]*)/g;P=X.exec(j);)J[decodeURIComponent(P[1])]=decodeURIComponent(P[2]);function Y(){var e=document.createElement("form");e.setAttribute("method","GET"),e.setAttribute("action","https://accounts.google.com/o/oauth2/v2/auth");var t={client_id:x.GOOGLE_CLIENT_ID,redirect_uri:window.location.href,scope:"email profile openid",state:"try_sample_request",include_granted_scopes:"true",nonce:"testnonce",response_type:"token id_token"};for(var n in t){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",n),o.setAttribute("value",t[n]),e.appendChild(o)}document.body.appendChild(e),e.submit()}function $(){var e=JSON.parse(localStorage.getItem("oauth2-test-params"));if(e&&e.access_token){var t=new XMLHttpRequest;t.open("GET","https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token="+e.access_token),t.onreadystatechange=function(e){4===t.readyState&&200===t.status?window.user=t.response:4===t.readyState&&401===t.status&&Y()},t.send(null)}else Y()}Object.keys(J).length>0&&(localStorage.setItem("oauth2-test-params",JSON.stringify(J)),J.state&&"try_sample_request"===J.state&&$()),s().render(a().createElement("div",{className:"map-wrapper"},a().createElement(H,{mapIsReadyCallback:function(e){$()}})),document.getElementById("map-root"))},8285:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(3645),a=n.n(o)()((function(e){return e[1]}));a.push([e.id,'*{margin:0;padding:0;box-sizing:border-box;font-size:1rem;font-family:"Roboto",sans-serif}body{background-color:#f5f5f5}.map-wrapper{height:100vh;width:100vw}.map-container{height:100%;width:100%}',""]);const r=a}}]);