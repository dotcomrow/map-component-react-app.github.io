"use strict";(self.webpackChunkmap_component_react_app=self.webpackChunkmap_component_react_app||[]).push([[36],{9036:(e,n,o)=>{o.r(n),o.d(n,{default:()=>U});var t=o(2491),a=o.n(t),r=(o(7673),o(3379)),c=o.n(r),i=o(7795),s=o.n(i),l=o(569),u=o.n(l),m=o(3565),d=o.n(m),f=o(9216),p=o.n(f),v=o(4589),w=o.n(v),g=o(8285),b={};b.styleTagTransform=w(),b.setAttributes=d(),b.insert=u().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=p(),c()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;var Z=o(8280),E=o(649),L=o(2914),_=o(3876),h=o(668),R=o(7354),y=o(3218),k=o(161),O=o(767),T=o(1219),x=o(8185),A=o(6898),I=o(2300),C=(o(6626),window&&window.__env),S={TEST:C.TEST,OL_LAYER_URL:C.OL_LAYER_URL,GOOGLE_CLIENT_ID:C.GOOGLE_CLIENT_ID};Object.freeze(S);var z=void 0,G=JSON.parse(localStorage.getItem("user-token"));(0,I.eL)();var N=new A.Z({strokeStyle:new O.Z({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),showLabels:!0,wrapX:!0}),P=new R.Z({format:new y.Z,loader:function(e,n,o,t,a){P.removeLoadedExtent(e);var r=S.OL_LAYER_URL+"?bbox="+e.join(","),c=new XMLHttpRequest;c.open("GET",r),c.setRequestHeader("Authorization","Bearer "+G.access_token);var i=function(){P.removeLoadedExtent(e),a()};c.onerror=i,c.onload=function(){if(200===c.status){var e=P.getFormat().readFeatures(c.responseText);P.addFeatures(e),t(e)}else i()},c.send()},strategy:k.VW,overlaps:!1}),q=new _.Z({source:P,style:new T.ZP({fill:new x.Z({color:"rgba(255,255,255,0.2)"}),stroke:new O.Z({color:"rgba(0,0,255,0.3)"})}),maxZoom:14,minZoom:8});const D=function(e){var n=e.mapIsReadyCallback,o=(0,t.useRef)(null),r=function(e){new E.Z({target:document.querySelectorAll([".map-container"])[0],eventListeners:{moveend:function(e){z.$emit("moveend",e)},click:function(e){z.$emit("click",e)},pointermove:function(e){z.$emit("pointermove",e)}},layers:[new L.Z({source:new h.Z}),N,q],view:new Z.ZP({zoom:10,maxZoom:14,minZoom:8,center:[e.coords.longitude,e.coords.latitude],constrainResolution:!0})})};return(0,t.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){r(e)}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message)),r({coords:{latitude:51.505,longitude:-.09}})}),{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),n("my map")}),[n]),a().createElement("div",{className:"map-container",ref:o})};var F=o(7630);const H=function(e){var n=e.children;return a().createElement(F.ErrorBoundry,null,n)},U=function(e){var n=e.mapIsReadyCallback;return e.vars,a().createElement(H,null,a().createElement(D,{mapIsReadyCallback:n}))}},8285:(e,n,o)=>{o.d(n,{Z:()=>r});var t=o(3645),a=o.n(t)()((function(e){return e[1]}));a.push([e.id,'*{margin:0;padding:0;box-sizing:border-box;font-size:1rem;font-family:"Roboto",sans-serif}body{background-color:#f5f5f5}.map-wrapper{height:100vh;width:100vw}.map-container{height:100%;width:100%}',""]);const r=a}}]);