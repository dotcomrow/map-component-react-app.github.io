"use strict";(self.webpackChunkmap_component_react_app=self.webpackChunkmap_component_react_app||[]).push([[131],{8131:(e,n,o)=>{o.r(n),o.d(n,{default:()=>s});var t=o(2491),a=o.n(t),r=(o(7673),o(7277),o(6919));o(418);const s=function(e){var n=e.mapIsReadyCallback,o=e.vars;return a().createElement(r.Z,{mapIsReadyCallback:n,vars:o})}},418:(e,n,o)=>{o(2491),o(7630)},6919:(e,n,o)=>{o.d(n,{Z:()=>R});var t=o(2491),a=o.n(t),r=o(8280),s=o(649),i=o(2914),c=o(3876),l=o(668),m=o(7354),u=o(3218),d=o(161),f=o(767),p=o(1219),v=o(8185),w=o(6898),g=o(2300),Z=(o(6626),o(4685),o(6126),o(2500)),b=void 0,_=JSON.parse(localStorage.getItem("user-token"));(0,g.eL)();var L=new w.Z({strokeStyle:new f.Z({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),showLabels:!0,wrapX:!0}),h=new m.Z({format:new u.Z,loader:function(e,n,o,t,a){h.removeLoadedExtent(e);var r=Z._.OL_LAYER_URL+"?bbox="+e.join(","),s=new XMLHttpRequest;s.open("GET",r),s.setRequestHeader("Authorization","Bearer "+_.access_token);var i=function(){h.removeLoadedExtent(e),a()};s.onerror=i,s.onload=function(){if(200===s.status){var e=h.getFormat().readFeatures(s.responseText);h.addFeatures(e),t(e)}else i()},s.send()},strategy:d.VW,overlaps:!1}),E=new c.Z({source:h,style:new p.ZP({fill:new v.Z({color:"rgba(255,255,255,0.2)"}),stroke:new f.Z({color:"rgba(0,0,255,0.3)"})}),maxZoom:14,minZoom:8});const R=function(e){var n=e.mapIsReadyCallback,o=(e.vars,(0,t.useRef)(null)),c=function(e){new s.Z({target:document.querySelectorAll([".map-container"])[0],eventListeners:{moveend:function(e){b.$emit("moveend",e)},click:function(e){b.$emit("click",e)},pointermove:function(e){b.$emit("pointermove",e)}},layers:[new i.Z({source:new l.Z}),L,E],view:new r.ZP({zoom:10,maxZoom:14,minZoom:8,center:[e.coords.longitude,e.coords.latitude],constrainResolution:!0})})};return(0,t.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){c(e)}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message)),c({coords:{latitude:51.505,longitude:-.09}})}),{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),n("my map")}),[n]),a().createElement("div",{className:"map-container",ref:o})}},2500:(e,n,o)=>{o.d(n,{_:()=>a});var t=window&&window.__env,a={TEST:t.TEST,OL_LAYER_URL:t.OL_LAYER_URL,GOOGLE_CLIENT_ID:t.GOOGLE_CLIENT_ID};Object.freeze(a)},6126:(e,n,o)=>{o(2500)},4685:(e,n,o)=>{o(2500)},8285:(e,n,o)=>{o.d(n,{Z:()=>r});var t=o(3645),a=o.n(t)()((function(e){return e[1]}));a.push([e.id,'*{margin:0;padding:0;box-sizing:border-box;font-size:1rem;font-family:"Roboto",sans-serif}body{background-color:#f5f5f5}.map-wrapper{height:100vh;width:100vw}.map-container{height:100%;width:100%}',""]);const r=a},7277:(e,n,o)=>{var t=o(3379),a=o.n(t),r=o(7795),s=o.n(r),i=o(569),c=o.n(i),l=o(3565),m=o.n(l),u=o(9216),d=o.n(u),f=o(4589),p=o.n(f),v=o(8285),w={};w.styleTagTransform=p(),w.setAttributes=m(),w.insert=c().bind(null,"head"),w.domAPI=s(),w.insertStyleElement=d(),a()(v.Z,w),v.Z&&v.Z.locals&&v.Z.locals}}]);