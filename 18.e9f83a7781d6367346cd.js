"use strict";(self.webpackChunkmap_component_react_app=self.webpackChunkmap_component_react_app||[]).push([[18],{2018:(e,t,n)=>{n.r(t);var o=n(2491),a=n.n(o),r=n(7673),s=n.n(r),i=n(3379),c=n.n(i),u=n(7795),l=n.n(u),m=n(569),d=n.n(m),p=n(3565),f=n.n(p),w=n(9216),g=n.n(w),h=n(4589),v=n.n(h),_=n(8285),b={};b.styleTagTransform=v(),b.setAttributes=f(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=g(),c()(_.Z,b),_.Z&&_.Z.locals&&_.Z.locals;var E=n(8280),y=n(649),L=n(2914),Z=n(3876),R=n(668),k=n(7354),I=n(3218),O=n(161),A=n(767),S=n(1219),T=n(8185),C=n(6898),x=(n(6626),window&&window.__env),G={TEST:x.TEST,OL_LAYER_URL:x.OL_LAYER_URL,GOOGLE_CLIENT_ID:x.GOOGLE_CLIENT_ID};Object.freeze(G);var N=void 0,q=JSON.parse(localStorage.getItem("oauth2-test-params")),z=new C.Z({strokeStyle:new A.Z({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),showLabels:!0,wrapX:!0}),U=new k.Z({format:new I.Z,loader:function(e,t,n,o,a){U.removeLoadedExtent(e);var r=G.OL_LAYER_URL+"?bbox="+e.join(","),s=new XMLHttpRequest;s.open("GET",r),s.setRequestHeader("Authorization","Bearer "+q.access_token);var i=function(){U.removeLoadedExtent(e),a()};s.onerror=i,s.onload=function(){if(200===s.status){var e=U.getFormat().readFeatures(s.responseText);U.addFeatures(e),o(e)}else i()},s.send()},strategy:O.VW,overlaps:!1}),j=new Z.Z({source:U,style:new S.ZP({fill:new T.Z({color:"rgba(255,255,255,0.2)"}),stroke:new A.Z({color:"rgba(0,0,255,0.3)"})}),maxZoom:14,minZoom:8});const D=function(e){var t=e.mapIsReadyCallback,n=(0,o.useRef)(null),r=function(e){new y.Z({target:document.querySelectorAll([".map-container"])[0],eventListeners:{moveend:function(e){N.$emit("moveend",e)},click:function(e){N.$emit("click",e)},pointermove:function(e){N.$emit("pointermove",e)}},layers:[new L.Z({source:new R.Z}),z,j],view:new E.ZP({zoom:10,maxZoom:14,minZoom:8,center:[e.coords.longitude,e.coords.latitude],constrainResolution:!0})})};return(0,o.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){r(e)}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message)),r({coords:{latitude:51.505,longitude:-.09}})}),{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),t("my map")}),[t]),a().createElement("div",{className:"map-container",ref:n})};(0,n(2300).eL)();for(var H,P=window.location.hash.substring(1),F={},J=/([^&=]+)=([^&]*)/g;H=J.exec(P);)F[decodeURIComponent(H[1])]=decodeURIComponent(H[2]);function X(){var e=document.createElement("form");e.setAttribute("method","GET"),e.setAttribute("action","https://accounts.google.com/o/oauth2/v2/auth");var t={client_id:G.GOOGLE_CLIENT_ID,redirect_uri:window.location.href,scope:"email profile openid",state:"try_sample_request",include_granted_scopes:"true",nonce:"testnonce",response_type:"token id_token"};for(var n in t){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",n),o.setAttribute("value",t[n]),e.appendChild(o)}document.body.appendChild(e),e.submit()}function Y(){var e=JSON.parse(localStorage.getItem("oauth2-test-params"));if(e&&e.access_token){var t=new XMLHttpRequest;t.open("GET","https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token="+e.access_token),t.onreadystatechange=function(e){4===t.readyState&&200===t.status?window.user=t.response:4===t.readyState&&401===t.status&&X()},t.send(null)}else X()}Object.keys(F).length>0&&(localStorage.setItem("oauth2-test-params",JSON.stringify(F)),F.state&&"try_sample_request"===F.state&&Y()),s().render(a().createElement("div",{className:"map-wrapper"},a().createElement(D,{mapIsReadyCallback:function(e){Y()}})),document.getElementById("map-root"))},8285:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(3645),a=n.n(o)()((function(e){return e[1]}));a.push([e.id,'*{margin:0;padding:0;box-sizing:border-box;font-size:1rem;font-family:"Roboto",sans-serif}body{background-color:#f5f5f5}.map-wrapper{height:100vh;width:100vw}.map-container{height:100%;width:100%}',""]);const r=a}}]);