"use strict";(self.webpackChunkmap_component_react_app=self.webpackChunkmap_component_react_app||[]).push([[781],{3781:(e,n,o)=>{o.r(n);var t=o(2491),a=o.n(t),r=o(7673),c=o.n(r),s=o(3379),i=o.n(s),l=o(7795),m=o.n(l),u=o(569),d=o.n(u),f=o(3565),p=o.n(f),v=o(9216),g=o.n(v),w=o(4589),b=o.n(w),E=o(8285),Z={};Z.styleTagTransform=b(),Z.setAttributes=p(),Z.insert=d().bind(null,"head"),Z.domAPI=m(),Z.insertStyleElement=g(),i()(E.Z,Z),E.Z&&E.Z.locals&&E.Z.locals;var _=o(8280),L=o(649),R=o(2914),y=o(668),h=o(2300),k=(o(6626),window&&window.__env),I={TEST:k.TEST,OL_LAYER_URL:k.OL_LAYER_URL,GOOGLE_CLIENT_ID:k.GOOGLE_CLIENT_ID};Object.freeze(I);var O=o(7354),T=o(4568),x=o(161),A=o(1219),C=o(8185),S=o(767),z=o(838),G=void 0;const N=function(e){var n=e.mapIsReadyCallback;e.vars,(0,h.eL)();var o=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=function(e){var n,o;new L.Z({target:document.querySelectorAll([".map-container"])[0],eventListeners:{moveend:function(e){G.$emit("moveend",e)},click:function(e){G.$emit("click",e)},pointermove:function(e){G.$emit("pointermove",e)}},layers:[new R.Z({source:new y.Z}),(n=JSON.parse(localStorage.getItem("user-token")),o=new O.Z({format:new T.Z,loader:function(e,t,a,r,c){o.removeLoadedExtent(e);var s=I.OL_LAYER_URL+"?bbox="+e.join(","),i=new XMLHttpRequest;i.open("GET",s),i.setRequestHeader("Authorization","Bearer "+n.access_token);var l=function(){o.removeLoadedExtent(e),c()};i.onerror=l,i.onload=function(){if(200===i.status){var e=o.getFormat().readFeatures(i.responseText);o.addFeatures(e),r(e)}else l()},i.send()},strategy:x.VW,overlaps:!1}),new z.Z({source:o,style:new A.ZP({fill:new C.Z({color:"rgba(255,255,255,0.2)"}),stroke:new S.Z({color:"rgba(0,0,255,0.3)"})}),maxZoom:14,minZoom:8}))],view:new _.ZP({zoom:10,maxZoom:14,minZoom:8,center:[e.coords.longitude,e.coords.latitude],constrainResolution:!0})})};navigator.geolocation.getCurrentPosition((function(n){e(n)}),(function(n){console.warn("ERROR(".concat(n.code,"): ").concat(n.message)),e({coords:{latitude:51.505,longitude:-.09}})}),{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),n("my map")}),[]),a().createElement("div",{className:"map-container",ref:o})};o(7630);const P=function(e){var n=e.mapIsReadyCallback,o=e.vars;return a().createElement(N,{mapIsReadyCallback:n,vars:o})};var q=function(e){console.log("Map is ready"),console.log(e)};c().render(a().createElement(P,{mapIsReadyCallback:q,vars:q}),document.getElementById("root"))},8285:(e,n,o)=>{o.d(n,{Z:()=>r});var t=o(3645),a=o.n(t)()((function(e){return e[1]}));a.push([e.id,'*{margin:0;padding:0;box-sizing:border-box;font-size:1rem;font-family:"Roboto",sans-serif}body{background-color:#f5f5f5}.map-wrapper{height:100vh;width:100vw}.map-container{height:100%;width:100%}',""]);const r=a}}]);